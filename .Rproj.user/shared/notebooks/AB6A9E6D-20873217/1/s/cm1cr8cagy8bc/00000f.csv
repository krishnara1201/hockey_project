"0","new_best_params <- data.frame(t(c(nrounds = 200,"
"0","                                  max_depth = 3,"
"0","                                  eta = 0.1,"
"0","                                  gamma = 0,"
"0","                                  colsample_bytree = 1,"
"0","                                  min_child_weight = 4,"
"0","                                  subsample = 1)),"
"0","                              row.names = 60)"
"0",""
"0","new_final_params <- list("
"0","  objective = ""reg:squarederror"","
"0","  eval_metric = ""rmse"","
"0","  eta = new_best_params$eta,"
"0","  max_depth = new_best_params$max_depth,"
"0","  gamma = new_best_params$gamma,"
"0","  subsample = new_best_params$subsample,"
"0","  colsample_bytree = new_best_params$colsample_bytree,"
"0","  min_child_weight = new_best_params$min_child_weight"
"0",")"
"0",""
"0",""
"0","new_xgb_cv <- xgb.cv("
"0","  params = new_final_params,"
"0","  data = xgb_dtrain,"
"0","  nrounds = 1000,"
"0","  nfold = 10,"
"0","  early_stopping_rounds = 100,"
"0","  print_every_n = 50"
"0",")"
"1","[1]	train-rmse:12.159312+0.010506	test-rmse:12.159105+0.106552"
"1"," "
"1","
"
"1","Multiple eval metrics are present. Will use "
"1",""
"1","test_rmse"
"1",""
"1"," for early stopping.
"
"1","Will train until "
"1",""
"1","test_rmse"
"1",""
"1"," hasn't improved in "
"1",""
"1","100"
"1",""
"1"," rounds.

"
"1","[51]	train-rmse:0.259958+0.004990	test-rmse:0.343232+0.050615"
"1"," "
"1","
"
"1","[101]	train-rmse:0.196004+0.005354	test-rmse:0.322962+0.050074"
"1"," "
"1","
"
"1","[151]	train-rmse:0.165007+0.004060	test-rmse:0.320303+0.048856"
"1"," "
"1","
"
"1","[201]	train-rmse:0.140778+0.003804	test-rmse:0.319033+0.048993"
"1"," "
"1","
"
"1","[251]	train-rmse:0.120418+0.003870	test-rmse:0.320143+0.047908"
"1"," "
"1","
"
"1","Stopping. Best iteration:
"
"1",""
"1","[199]	train-rmse:0.141710+0.003692	test-rmse:0.318736+0.048813"
"1",""
"1","

"
"0","# Train final model"
"0","xgb_model_final <- xgb.train("
"0","  params = new_final_params,"
"0","  data = new_xgb.dtrain,"
"0","  nrounds = new_best_params$nrounds"
"0",")"
