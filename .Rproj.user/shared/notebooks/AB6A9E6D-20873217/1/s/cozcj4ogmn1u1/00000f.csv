"0","test_model <- lm(salary~., data = new_dtrain)"
"0","car::vif(test_model)"
"1","                "
"1","      GVIF"
"1"," Df"
"1"," GVIF^(1/(2*Df))"
"1","
team            "
"1"," 19.752199"
"1"," 30"
"1","        1.050978"
"1","
cap             "
"1"," 51.485278"
"1","  1"
"1","        7.175324"
"1","
gp              "
"1","  4.269930"
"1","  1"
"1","        2.066381"
"1","
injure          "
"1","  1.267853"
"1","  1"
"1","        1.125990"
"1","
toi             "
"1","  4.691406"
"1","  1"
"1","        2.165965"
"1","
pos             "
"1"," 27.947157"
"1"," 17"
"1","        1.102908"
"1","
nat             "
"1"," 11.324844"
"1"," 15"
"1","        1.084262"
"1","
age             "
"1","  1.310239"
"1","  1"
"1","        1.144657"
"1","
year            "
"1"," 54.080962"
"1","  1"
"1","        7.353976"
"1","
day             "
"1","  1.174529"
"1","  1"
"1","        1.083757"
"1","
is_weekend      "
"1","  1.173774"
"1","  1"
"1","        1.083409"
"1","
month_sin       "
"1","  2.304617"
"1","  1"
"1","        1.518096"
"1","
month_cos       "
"1","  2.092754"
"1","  1"
"1","        1.446635"
"1","
npc             "
"1","  1.806704"
"1","  1"
"1","        1.344137"
"1","
pm_per_min      "
"1","  1.372763"
"1","  1"
"1","        1.171650"
"1","
ppg             "
"1","  2.964617"
"1","  1"
"1","        1.721806"
"1","
physicality     "
"1","  2.374023"
"1","  1"
"1","        1.540787"
"1","
relCorsi_per_toi"
"1","  1.156012"
"1","  1"
"1","        1.075180"
"1","
"
"0","newer_model <- lm(salary~team+gp+toi+pos+nat+age+injure+"
"0","                    day+is_weekend+month_sin+month_cos+npc+"
"0","                    pm_per_min+ppg+physicality+relCorsi_per_toi, "
"0","                  data = new_dtrain)"
"0","car::vif(newer_model)"
"1","                "
"1","      GVIF"
"1"," Df"
"1"," GVIF^(1/(2*Df))"
"1","
team            "
"1"," 17.046683"
"1"," 30"
"1","        1.048401"
"1","
gp              "
"1","  4.252851"
"1","  1"
"1","        2.062244"
"1","
toi             "
"1","  4.684354"
"1","  1"
"1","        2.164337"
"1","
pos             "
"1"," 24.626138"
"1"," 17"
"1","        1.098812"
"1","
nat             "
"1"," 10.175860"
"1"," 15"
"1","        1.080403"
"1","
age             "
"1","  1.285879"
"1","  1"
"1","        1.133966"
"1","
injure          "
"1","  1.261817"
"1","  1"
"1","        1.123306"
"1","
day             "
"1","  1.173999"
"1","  1"
"1","        1.083512"
"1","
is_weekend      "
"1","  1.173182"
"1","  1"
"1","        1.083135"
"1","
month_sin       "
"1","  1.224707"
"1","  1"
"1","        1.106665"
"1","
month_cos       "
"1","  1.248219"
"1","  1"
"1","        1.117237"
"1","
npc             "
"1","  1.773437"
"1","  1"
"1","        1.331704"
"1","
pm_per_min      "
"1","  1.339147"
"1","  1"
"1","        1.157215"
"1","
ppg             "
"1","  2.950532"
"1","  1"
"1","        1.717711"
"1","
physicality     "
"1","  2.369771"
"1","  1"
"1","        1.539406"
"1","
relCorsi_per_toi"
"1","  1.146536"
"1","  1"
"1","        1.070764"
"1","
"
"0","new_formula_full <- ""log(salary)~team+toi+gp+pos+nat+age+injure+"
"0","                    day+is_weekend+month_sin+month_cos+npc+"
"0","                    pm_per_min+ppg+physicality+relCorsi_per_toi"""
"0",""
"0","new_train_matrix <- model.matrix(as.formula(new_formula_full), "
"0","                                 data = new_dtrain)[,-1]  # Remove intercept"
"0","new_train_labels <- log(new_dtrain$salary)"
"0",""
"0","new_xgb_dtrain <- xgb.DMatrix(data = new_train_matrix, label = new_train_labels)"
"0",""
"0",""
"0","new_test_matrix <- model.matrix(as.formula(new_formula_full), data = new_dtest)[,-1]"
"0",""
"0","# Handle any missing features (set to 0)"
"0","missing_cols <- setdiff(colnames(new_train_matrix), colnames(new_test_matrix))"
"0","new_test_matrix <- cbind(new_test_matrix, matrix(0, nrow = nrow(new_test_matrix), "
"0","                                         ncol = length(missing_cols),"
"0","                                         dimnames = list(NULL, missing_cols)))"
"0",""
"0","# Ensure column order matches training data"
"0","new_test_matrix <- new_test_matrix[, colnames(new_train_matrix)]"
"0","new_xgb_dtest <- xgb.DMatrix(data = new_test_matrix)"
